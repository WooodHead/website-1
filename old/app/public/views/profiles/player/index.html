<article id="player-profile" ng-controller="PlayerProfileController">
    <div class="sk-three-bounce" ng-show="!loaded">
        <div class="sk-child sk-bounce1"></div>
        <div class="sk-child sk-bounce2"></div>
        <div class="sk-child sk-bounce3"></div>
        <p class="caption center-align">
            Loading
        </p>
    </div>
    <div ng-if="loaded">
        <div class="row row-no-margin center-align">
            <h1 class="header-no-margin {{ service.data.factionAbv }}-table-text">
                <span ng-if="service.data.outfit.data.tag">[{{ service.data.outfit.data.tag }}]</span>
                {{ service.data.name }}
            </h1>
            <p class="caption">
                All stats below are gathered from recorded alert metrics. Please report any bugs or feature requests to the PS2Alerts Issue Tracker on <a href="https://github.com/ps2alerts/issues" target="_blank">
                    Github <i class="fa fa-github"></i>
                </a>
            </p>
            <p>
                <a href="{{ config.baseUrl }}/profiles/player/{{service.data.id }}">
                    Permalink <i class="fa fa-chain"></i>
                </a>
            </p>
        </div>
        <div class="col s12 no-padding">
            <div ng-include="'views/profiles/player/stats.html'"></div>
        </div>

        <div class="row row-no-margin">
            <div class="col s12 center-align button-row">
                <p class="caption">
                    For full player statistics unrelated to alerts, here's the best sites. Please let the creators know PS2Alerts is linking them! <i class="fa fa-heart"></i>
                </p>
                <a
                    href="http://stats.dasanfall.com/ps2/player/{{ service.data.name }}"
                    class="waves-effect waves-light btn ga-event"
                    target="_blank"
                    ga-campaign="Profiles - Players"
                    ga-action="External Links"
                    ga-label="Dasanfall">
                    Dasanfall <i class="fa fa-link"></i>
                </a>
                <a
                    href="http://ps2.fisu.pw/player/?name={{ service.data.name | lowercase }}"
                    class="waves-effect waves-light btn ga-event"
                    target="_blank"
                    ga-campaign="Profiles - Players"
                    ga-action="External Links"
                    ga-label="Fisu">
                    Fisu <i class="fa fa-link"></i>
                </a>
                <a
                    href="http://www.voidwell.com/#/ps2/player/{{ service.data.id }}"
                    class="waves-effect waves-light btn ga-event"
                    target="_blank"
                    ga-campaign="Profiles - Players"
                    ga-action="External Links"
                    ga-label="Voidwell">
                    Voidwell <i class="fa fa-link"></i>
                </a>
                <a
                    href="https://www.planetside2.com/players/#!/{{ service.data.id }}"
                    class="waves-effect waves-light btn ga-event"
                    target="_blank"
                    ga-campaign="Profiles - Players"
                    ga-action="External Links"
                    ga-label="Planetside 2">
                    PS2 Players <i class="fa fa-link"></i>
                </a>
            </div>
        </div>

        <div class="row row-no-margin">
            <div class="col m6 s12">
                <h2 class="center-align">
                    Alerts Involved
                </h2>
                <h4 class="center-align">
                    {{ service.data.metrics.data.involved }} Alerts recorded for this player
                </h4>
                <p class="caption center-align">
                    Please note, some very old alerts (less than ID 5,000) may not be fully compatible with the site, as new data was added since.
                </p>
                <table id="alert-list"></table>
            </div>
            <div class="col l6 m6 s12">
                <h2 class="center-align">
                    Weapons
                </h2>
                <h4 class="center-align">
                    {{ service.data.weapons.data.length }} Weapons recorded for this player
                </h4>
                <p class="caption center-align">
                    Weapon stats recorded since 20th Sep 2015 <br /><br />
                </p>
                <table id="weapon-list"></table>
            </div>
        </div>
    </div>
</article>
